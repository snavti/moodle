YUI.add("moodle-availability_paypal-form",function(r,a){M.availability_paypal=M.availability_paypal||{},M.availability_paypal.form=r.Object(M.core_availability.plugin),M.availability_paypal.form.initInner=function(a){this.currencies=a},M.availability_paypal.form.getNode=function(a){var e,i,l,t,n="";for(e in this.currencies)n+='<option value="'+e+'" '+(a.currency===e?' selected="selected" ':"")+" >",n+=this.currencies[e],n+="</option>";return i="<div><label>",i+=M.util.get_string("businessemail","availability_paypal"),i+='<input name="businessemail" type="email" /></label></div>',i+="<div><label>",i+=M.util.get_string("currency","availability_paypal"),i+='<select name="currency" />'+n+"</select></label></div>",i+="<div><label>",i+=M.util.get_string("cost","availability_paypal"),i+='<input name="cost" type="text" /></label></div>',i+="<div><label>",i+=M.util.get_string("itemname","availability_paypal"),i+='<input name="itemname" type="text" /></label></div>',i+="<div><label>",i+=M.util.get_string("itemnumber","availability_paypal"),i+='<input name="itemnumber" type="text" /></label></div>',l=r.Node.create("<span>"+i+"</span>"),a.businessemail&&l.one("input[name=businessemail]").set("value",a.businessemail),a.cost&&l.one("input[name=cost]").set("value",a.cost),a.itemname&&l.one("input[name=itemname]").set("value",a.itemname),a.itemnumber&&l.one("input[name=itemnumber]").set("value",a.itemnumber),M.availability_paypal.form.addedEvents||(M.availability_paypal.form.addedEvents=!0,(t=r.one(".availability-field")).delegate("change",function(){M.core_availability.form.update()},".availability_paypal select[name=currency]"),t.delegate("change",function(){M.core_availability.form.update()},".availability_paypal input")),l},M.availability_paypal.form.fillValue=function(a,e){a.businessemail=e.one("input[name=businessemail]").get("value"),a.currency=e.one("select[name=currency]").get("value"),a.cost=this.getValue("cost",e),a.itemname=e.one("input[name=itemname]").get("value"),a.itemnumber=e.one("input[name=itemnumber]").get("value")},M.availability_paypal.form.getValue=function(a,e){var i=e.one("input[name="+a+"]").get("value");return/^[0-9]+([.,][0-9]+)?$/.test(i)?parseFloat(i.replace(",",".")):i},M.availability_paypal.form.fillErrors=function(a,e){var i={};this.fillValue(i,e),""===i.businessemail&&a.push("availability_paypal:error_businessemail"),(i.cost!==undefined&&"string"==typeof i.cost||i.cost<=0)&&a.push("availability_paypal:error_cost"),""===i.itemname&&a.push("availability_paypal:error_itemname"),""===i.itemnumber&&a.push("availability_paypal:error_itemnumber")}},"@VERSION@",{requires:["base","node","event","moodle-core_availability-form"]});